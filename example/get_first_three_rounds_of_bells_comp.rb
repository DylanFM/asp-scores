$:<< File.join(File.dirname(__FILE__), '..', 'lib')

require 'comp_scraper'
require 'pp'

rip_curl_pro = CompScraper::Competition.new('http://www.beachbyte.com/live09/rcp09/')
data = {}

(1..3).collect do |n|
  data[:"round #{n}"] = rip_curl_pro.fetch_heat_data_for_round(n)
end

pp data
# >> {:"round 1"=>
# >>   [{:competitors=>
# >>      [{:place=>1,
# >>        :name=>"David Weare",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>13.0,
# >>        :home_country=>"ZAF"},
# >>       {:place=>2,
# >>        :name=>"Nathaniel Curran",
# >>        :singlet_colour=>"Blue",
# >>        :points=>11.16,
# >>        :home_country=>"USA"}],
# >>     :heat_number=>"1",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Roy Powers",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>6.26,
# >>        :home_country=>"HAW"},
# >>       {:place=>1,
# >>        :name=>"Michel Bourez",
# >>        :singlet_colour=>"Blue",
# >>        :points=>12.33,
# >>        :home_country=>"PFY"}],
# >>     :heat_number=>"2",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Heitor Alves",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>6.6,
# >>        :home_country=>"BRA"},
# >>       {:place=>1,
# >>        :name=>"Jay Thompson",
# >>        :singlet_colour=>"Blue",
# >>        :points=>14.66,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"3",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Taylor Knox",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>15.84,
# >>        :home_country=>"USA"},
# >>       {:place=>2,
# >>        :name=>"Phillip MacDonald",
# >>        :singlet_colour=>"Blue",
# >>        :points=>10.16,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"4",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Dayyan Neve",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>14.0,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Marlon Lipke",
# >>        :singlet_colour=>"Blue",
# >>        :points=>7.6,
# >>        :home_country=>"DEU"}],
# >>     :heat_number=>"5",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Kieren Perrow",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>12.5,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Aritz Aranburu",
# >>        :singlet_colour=>"Blue",
# >>        :points=>12.23,
# >>        :home_country=>"EUK"}],
# >>     :heat_number=>"6",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Jihad Khodr",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>10.83,
# >>        :home_country=>"BRA"},
# >>       {:place=>2,
# >>        :name=>"Patrick Gudauskas",
# >>        :singlet_colour=>"Blue",
# >>        :points=>8.5,
# >>        :home_country=>"USA"}],
# >>     :heat_number=>"7",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Dane Reynolds",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>10.5,
# >>        :home_country=>"USA"},
# >>       {:place=>1,
# >>        :name=>"Owen Wright",
# >>        :singlet_colour=>"Blue",
# >>        :points=>13.5,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"8",
# >>     :round_number=>"1"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Jordy Smith",
# >>        :singlet_colour=>"Yellow",
# >>        :points=>18.7,
# >>        :home_country=>"ZAF"},
# >>       {:place=>2,
# >>        :name=>"Matt Wilkinson",
# >>        :singlet_colour=>"Blue",
# >>        :points=>11.66,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"9",
# >>     :round_number=>"1"}],
# >>  :"round 2"=>
# >>   [{:competitors=>
# >>      [{:place=>1,
# >>        :name=>"CJ Hobgood",
# >>        :singlet_colour=>"yellow",
# >>        :points=>16.0,
# >>        :home_country=>"USA"},
# >>       {:place=>2,
# >>        :name=>"Mick Campbell",
# >>        :singlet_colour=>"blue",
# >>        :points=>11.0,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"1",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Chris Ward",
# >>        :singlet_colour=>"yellow",
# >>        :points=>10.67,
# >>        :home_country=>"USA"},
# >>       {:place=>1,
# >>        :name=>"Taylor Knox",
# >>        :singlet_colour=>"blue",
# >>        :points=>16.93,
# >>        :home_country=>"USA"}],
# >>     :heat_number=>"2",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Kai Otton",
# >>        :singlet_colour=>"yellow",
# >>        :points=>12.67,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Dayyan Neve",
# >>        :singlet_colour=>"blue",
# >>        :points=>12.5,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"3",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Joel Parkinson",
# >>        :singlet_colour=>"yellow",
# >>        :points=>16.76,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Michel Bourez",
# >>        :singlet_colour=>"blue",
# >>        :points=>11.66,
# >>        :home_country=>"PFY"}],
# >>     :heat_number=>"4",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Mick Fanning",
# >>        :singlet_colour=>"yellow",
# >>        :points=>17.16,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Tiago Pires",
# >>        :singlet_colour=>"blue",
# >>        :points=>15.27,
# >>        :home_country=>"PRT"}],
# >>     :heat_number=>"5",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Bobby Martinez",
# >>        :singlet_colour=>"yellow",
# >>        :points=>16.4,
# >>        :home_country=>"USA"},
# >>       {:place=>2,
# >>        :name=>"Tim Boal",
# >>        :singlet_colour=>"blue",
# >>        :points=>12.5,
# >>        :home_country=>"FRA"}],
# >>     :heat_number=>"6",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Damien Hobgood",
# >>        :singlet_colour=>"yellow",
# >>        :points=>12.17,
# >>        :home_country=>"USA"},
# >>       {:place=>1,
# >>        :name=>"Jordy Smith",
# >>        :singlet_colour=>"blue",
# >>        :points=>13.0,
# >>        :home_country=>"ZAF"}],
# >>     :heat_number=>"7",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Kelly Slater",
# >>        :singlet_colour=>"yellow",
# >>        :points=>13.83,
# >>        :home_country=>"USA"},
# >>       {:place=>1,
# >>        :name=>"Owen Wright",
# >>        :singlet_colour=>"blue",
# >>        :points=>14.67,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"8",
# >>     :round_number=>"2"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Bede Durbidge",
# >>        :singlet_colour=>"yellow",
# >>        :points=>15.84,
# >>        :home_country=>"AUS"},
# >>       {:place=>1,
# >>        :name=>"Adam Robertson",
# >>        :singlet_colour=>"blue",
# >>        :points=>16.1,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"9",
# >>     :round_number=>"2"}],
# >>  :"round 3"=>
# >>   [{:competitors=>
# >>      [{:place=>1,
# >>        :name=>"CJ Hobgood",
# >>        :singlet_colour=>"yellow",
# >>        :points=>15.17,
# >>        :home_country=>"USA"},
# >>       {:place=>2,
# >>        :name=>"Taylor Knox",
# >>        :singlet_colour=>"blue",
# >>        :points=>13.0,
# >>        :home_country=>"USA"}],
# >>     :heat_number=>"1",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Kai Otton",
# >>        :singlet_colour=>"yellow",
# >>        :points=>9.63,
# >>        :home_country=>"AUS"},
# >>       {:place=>1,
# >>        :name=>"Joel Parkinson",
# >>        :singlet_colour=>"blue",
# >>        :points=>15.57,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"2",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Mick Fanning",
# >>        :singlet_colour=>"yellow",
# >>        :points=>14.26,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Bobby Martinez",
# >>        :singlet_colour=>"blue",
# >>        :points=>3.43,
# >>        :home_country=>"USA"}],
# >>     :heat_number=>"3",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Jordy Smith",
# >>        :singlet_colour=>"yellow",
# >>        :points=>16.84,
# >>        :home_country=>"ZAF"},
# >>       {:place=>2,
# >>        :name=>"Owen Wright",
# >>        :singlet_colour=>"blue",
# >>        :points=>13.67,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"4",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>1,
# >>        :name=>"Adam Robertson",
# >>        :singlet_colour=>"yellow",
# >>        :points=>15.5,
# >>        :home_country=>"AUS"},
# >>       {:place=>2,
# >>        :name=>"Tom Whitaker",
# >>        :singlet_colour=>"blue",
# >>        :points=>13.13,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"5",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Drew Courtney",
# >>        :singlet_colour=>"yellow",
# >>        :points=>11.17,
# >>        :home_country=>"AUS"},
# >>       {:place=>1,
# >>        :name=>"Kekoa Bacalso",
# >>        :singlet_colour=>"blue",
# >>        :points=>17.34,
# >>        :home_country=>"HAW"}],
# >>     :heat_number=>"6",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Jay Thompson",
# >>        :singlet_colour=>"yellow",
# >>        :points=>9.0,
# >>        :home_country=>"AUS"},
# >>       {:place=>1,
# >>        :name=>"Kieren Perrow",
# >>        :singlet_colour=>"blue",
# >>        :points=>13.5,
# >>        :home_country=>"AUS"}],
# >>     :heat_number=>"7",
# >>     :round_number=>"3"},
# >>    {:competitors=>
# >>      [{:place=>2,
# >>        :name=>"Dean Morrison",
# >>        :singlet_colour=>"yellow",
# >>        :points=>13.64,
# >>        :home_country=>"AUS"},
# >>       {:place=>1,
# >>        :name=>"Fredrick Patacchia",
# >>        :singlet_colour=>"blue",
# >>        :points=>17.57,
# >>        :home_country=>"HAW"}],
# >>     :heat_number=>"8",
# >>     :round_number=>"3"}]}
